@page "/tasks/list"
@model ToDoList.Pages.Tasks.ViewAllTasksModel
@{
}
<h1>All tasks</h1>
<hr/>
<a asp-page="AddTask" class="btn btn-primary mb-2">Add new task</a>
<table class="table table-striped table-bordered">
    <thead>
        <tr>
            <td>Id</td>
            <td>Name</td>
            <td>Status</td>
            <td>Owner</td>
            <td>Category</td>
            <td>Mark as Completed</td>
            <td>Edit</td>
            <td>Delete</td>
        </tr>
    </thead>
    <tbody>
        @foreach(var item in Model.Tasks)
        {
            <tr>
                <td>@item.Id</td>
                <td><a asp-page="TaskDetails" asp-route-Id="@item.Id">@item.Name</a></td>
                <td>@item.Status</td>
                <td>@item.Owner.Name</td>
                <td>@item.Category.CategoryName</td>
                <td>
                    <div class="form-check">
                        @if(item.Status == Data.Models.StatusEnum.Done)
                        {
                            <input class="form-check-input" type="checkbox" value="" id="checkCompleted" checked>
                        }
                        else
                        {
                            <input class="form-check-input" type="checkbox" value="" id="checkCompleted">
                        }

                        <label class="form-check-label" for="checkCompleted">
                            Completed
                        </label>
                    </div>
                </td>
                <td><a asp-page="EditTask" asp-route-Id = "@item.Id" class="btn btn-warning">Edit</a></td>
                <td><a asp-page="DeleteTask" asp-route-Id = "@item.Id" class="btn btn-danger">Delete</a></td>
            </tr>
        }
    </tbody>
</table>
